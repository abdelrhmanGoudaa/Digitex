<?xml version="1.0" encoding="utf-8"?>
<odoo>

   <record id="structure_type_egypt_payroll_testing"
    model="hr.payroll.structure.type">
        <field name="name">Testing Egypt Payroll</field>
        <field name="country_id" eval="False"/>
    </record> 
  
     <record id="hr_salary_structure_eg_testing" model="hr.payroll.structure">
        <field name="name">Testing Salary Structure of Egypt</field>
        <field name="type_id" ref="structure_type_egypt_payroll_testing"/>
        <field name="country_id" eval="False"/>
    </record>

    <!--taxable ammount-->
        <record id="hr_rule_taxable_testing" model="hr.salary.rule">
            <field name="name">Taxable Amount Testing</field>
            <field name="code">TAXABLETST</field>
            <field name="sequence">150</field>
            <field name="struct_id" ref="hr_salary_structure_eg_testing"/>
            <field name="category_id" ref="hr_payroll.GROSS"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = categories.BASIC+categories.DED
            </field>
        </record>


        <record id="hr_salary_rule_tax_deduction_testing" model="hr.salary.rule">
        <field name="code">TXDEDTST</field>
        <field name="name">Income tax Deduction</field>
        <field name="struct_id" ref="hr_salary_structure_eg_testing"/>
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="condition_select">python</field>
        <field name="condition_python">result = TAXABLETST >= 1250 or False
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">result = -contract.calculate_eg_tax(TAXABLETST)
        </field>
        <field name="sequence" eval="180"/>
        <field name="note">Income tax deduction

        </field>
    </record>
</odoo>